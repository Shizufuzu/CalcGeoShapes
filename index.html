<!DOCTYPE html>
<html>
    <head>

    </head>

    <body>
        <h1>Calculate your geometrical Shape</h1>
        <br>  
        <form>
            <label for ="geoShapesList">Choose a geometrical Shape</label>
            <select name="geoShapesList" id="geoShapesList">
                <optgroup label="2D">
                    <option value="" selected disabled hidden>Choose Shape</option>
                    <option value="triangle">Triangle</option>
                    <option value="square">Square</option>
                </optgroup>
            </select>
            <br>

        </form>

        <form id="triangleSelected" style="display: none;">
            <label> Please input all 3 sidelengths</label>
            <input type="text" id="trSide1" placeholder="a" required>
            <input type="text" id="trSide2" placeholder="b" required>
            <input type="text" id="trSide3" placeholder="c" required>
        </form>

        <form id="squareSelected" style="display: none;">
            <label> Please input 2 sidelengths</label>
            <input type="text" id="sqSide1" placeholder="a" required>
            <input type="text" id="sqSide2" placeholder="b" required>
        </form>

        <input type="button" value="Calculate!" onclick="calculateShapes();"/>
        
        <p id="result"></p>

        <script>
            var a, b, c, area, select;

            document.addEventListener('DOMContentLoaded', () => {
                document    
                    .getElementById('geoShapesList')
                    .addEventListener('input', handleSelect);
            });

            function handleSelect(ev) {
                select = ev.target; // like getElementByID('geoShapesList')
                switch (select.value) {
                    case "triangle":
                        document.getElementById("triangleSelected").style.display="block";
                        document.getElementById("squareSelected").style.display="none";
                        break;
                    case "square":
                        document.getElementById("squareSelected").style.display="block";
                        document.getElementById("triangleSelected").style.display="none";
                        break;
                    default:
                    document.getElementById("triangleSelected").style.display="none";
                    document.getElementById("squareSelected").style.display="none";
                }
            }

            function calculateShapes() {
                switch (select.value) {
                    case "triangle":
                        a = document.getElementById('trSide1').value;
                        b = document.getElementById('trSide2').value;
                        c = document.getElementById('trSide3').value;
                        let s = (Number(a) + Number(b) + Number(c)) / 2;
                        area = Math.sqrt(s * (s - a) * (s - b) * (s - c));
                        break;
                    case "square":
                        a = document.getElementById('sqSide1').value;
                        b = document.getElementById('sqSide2').value;
                        area = Number(a) * Number(b);
                        break;
                    default:
                        area = NaN;
                }
                document.getElementById('result').innerHTML = area + " xÂ²";               
            }

        </script>


        <script src="js/shapes.js"></script>
    </body>
</html>